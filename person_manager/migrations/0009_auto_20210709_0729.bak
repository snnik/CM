# Generated by Django 3.2.5 on 2021-07-09 04:03
from django.db import migrations


def migrate_oms_data(apps, schema_editor):
    person = apps.get_model('person_manager', 'Person')
    oms = apps.get_model('person_manager', 'OMS')
    db_alias = schema_editor.connection.alias
    for person in person.objects.all():
        oms.objects.using(db_alias).bulk_create([
            oms()
        ])


def migrate_passport_data(apps, schema_editor):
    pass


def init_male(apps, schema_editor):
    issuing = apps.get_model('person_manager', 'Male')
    db_alias = schema_editor.connection.alias
    issuing.objects.using(db_alias).bulk_create([
        issuing(name="Мужской", code="MAN"),
        issuing(name="Женский", code="WOMAN")
    ])


def init_document_type(apps, schema_editor):
    issuing = apps.get_model('person_manager', 'Passport')
    db_alias = schema_editor.connection.alias
    issuing.objects.using(db_alias).bulk_create([
        issuing(name="Паспорт", code="PASSPORT"),
        issuing(name="Свидетельство о рождении", code="BIRTHDAY"),
    ])


class Migration(migrations.Migration):
    dependencies = [
        ('person_manager', '0008_auto_20210709_0647'),
    ]

    operations = [
        migrations.RunPython(init_male),
    ]
